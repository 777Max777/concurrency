Написать тестовое приложение

Помимо главного существует два потока

Существует коллекция из пяти ReentrantLock

Первый поток раз в 10 секунд случайным образом захватывает два лока из пяти на 3 секунды, порядок блокировки заранее определить нельзя (по причине, выходящей за рамки данной задачи)

Второй поток раз в 5 секунд случайным образом захватывает два лока из пяти на 2 секунды.
"Захватывает два лока" подразумевает какую-то задержку в работе реальных двух ресурсов, которые должны быть недоступны другим в момент их обработки. Для упрощения логики просто выставляется задержка

В случае попытки захвата уже блокированного лока - данный поток освобождает уже захваченные им локи и поток засыпает до следующей итерации
Необходимо предусмотреть исключение возможности возникновения дедлока
Необходимо иметь в виду, что в реальном применении время блокировки ресурсов может быть заранее неизвестным и отличаться от жёстко заданных 3 и 2 сек (3 и 2 секунды для упрощения, но логику кода выстраиваем таким образом, что мы заранее не знали это время). Суммарное время итерации (время лока плюс время ожидания начала следующей итерации) должно быть не менее 10 сек для первого потока и 5 сек для второго. Если суммарное время итерации превзойдёт эти значения, то следующая итерация должна начинаться сразу.

Логика должна учитывать, что в общем случае мы не знаем количество и логику потоков, которые могут захватывать ресурсы (два выбрано для упрощения) - по возможности мы не должны мешать другим потокам

Логирование не требуется, но для контроля работы потоков вывод в System.out

Допустимо использование любых справочных материалов и любых сред разработки